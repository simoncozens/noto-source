<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<meta name="description" content="Noto Dashboard" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<title>Noto Dashboard</title>
		<link
			rel="stylesheet"
			href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css"
			integrity="sha384-zCbKRCUGaJDkqS1kPbPd7TveP5iyJE0EjAuZQTgFLD2ylzuqKfdKlfG/eSrtxUkn"
			crossorigin="anonymous"
		/>
		<script
			src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js"
			integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
			crossorigin="anonymous"
		></script>
		<script
			src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js"
			integrity="sha384-fQybjgWLrvvRgtW6bFlB7jaZrFsaBXjsOMm/tB9LTS58ONXgqbR9W8oWht/amnpF"
			crossorigin="anonymous"
		></script>
		<!-- Latest compiled and minified CSS -->
		<link
			rel="stylesheet"
			href="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.18/dist/css/bootstrap-select.min.css"
		/>
		<!-- Latest compiled and minified JavaScript -->
		<script
			defer
			src="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.18/dist/js/bootstrap-select.min.js"
		></script>

		<style>
			pre {
				white-space: pre-wrap;
				word-wrap: break-word;
			}
		</style>
	</head>
	<body>
		<div class="container">
			<header>
				<nav class="navbar fixed-top navbar-expand-lg navbar-light bg-light">
					<a class="navbar-brand" href="#">
						<span class="fs-4">Noto Dashboard</span>
					</a>
					<div class="collapse navbar-collapse" id="navbarSupportedContent">
						<ul class="navbar-nav">
							<select
								class="selectpicker w-auto"
								data-live-search="true"
								onchange="location = this.value;"
							>
								{{#each projects}}
								<option value="#{{family}}">{{family}}</option>
								{{/each}}
							</select>
						</ul>
					</div>
				</nav>
			</header>
		</div>
		<div class="container pt-5">
			<table class="table">
				{{#each projects}}
				<tr id="{{family}}">
					<td colspan="4">
						<h2>{{family}}</h2>
						<p>{{{this.commit}}}</p>
						{{#if issues}}
						<h4>Open Issues</h4>
						<ul>
							{{#each issues}}
							<li>
								<a
									href="https://github.com/googlefonts/noto-fonts/issues/{{this.id}}"
									>#{{this.id}}</a
								>: {{this.title}}
							</li>
							{{/each}}
						</ul>
						{{/if}}
					</td>
				</tr>
				<tr>
					<td>
						<a href="{{this.log}}">build log</a><br />
						{{#if errors}}
						<h3 class="text-danger">Build Errored!</h3>
						<pre>{{errors}}</pre>
						{{else}}
						<a href="{{this.fontbakery}}">Fontbakery report</a><br />
						{{#each this.badges}}
						<img src="https://img.shields.io/endpoint?url={{this}}" /><br />
						{{/each}} {{/if}}
					</td>
					{{#each this.outputs}}
					<td>
						<p><b>{{@key}}</b></p>
						<ul>
							{{#each this}}
							<li><a href="{{path}}">{{display}}</a></li>
							{{/each}}
						</ul>
					</td>
					{{/each}}
				</tr>
				{{/each}}
			</table>
		</div>
	</body>
</html>
